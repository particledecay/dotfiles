local wezterm = require 'wezterm';

local config = {
  adjust_window_size_when_changing_font_size = false,
  check_for_updates = false,
  default_prog = { "fish", "-c", "tmux a || tmux" },

  -- Color scheme
  color_scheme = "Catppuccin Macchiato",
  colors = {
    cursor_fg = "#cad3f5",
    cursor_bg = "#f4dbd6",
    selection_fg = "#cad3f5",
    selection_bg = "#f4dbd6",
  },

  font = wezterm.font_with_fallback { "Monaspace Argon" },
  font_rules = {
    -- Normal font
    {
      intensity = "Normal",
      italic = false,
      font = wezterm.font {
        family = "Monaspace Argon",
        weight = "Regular",
        italic = false,
        harfbuzz_features = {
          "liga", "ss01", "calt", "liga", "dlig",
          "ss01", "ss02", "ss03", "ss04", "ss05",
          "ss06", "ss07", "ss08", 
        },
      },
    },
    -- Italic font
    {
      intensity = "Normal",
      italic = true,
      font = wezterm.font {
        family = "Monaspace Xenon",
        weight = "Regular",
        italic = true,
        harfbuzz_features = {
          "liga", "ss01", "calt", "liga", "dlig",
          "ss01", "ss02", "ss03", "ss04", "ss05",
          "ss06", "ss07", "ss08", 
        },
      },
    },
    -- Bold font
    {
      intensity = "Bold",
      italic = false,
      font = wezterm.font {
        family = "Monaspace Radon",
        weight = "Bold",
        italic = false,
        harfbuzz_features = {
          "liga", "ss01", "calt", "liga", "dlig",
          "ss01", "ss02", "ss03", "ss04", "ss05",
          "ss06", "ss07", "ss08", 
        },
      },
    },
    -- Bold Italic font
    {
      intensity = "Bold",
      italic = true,
      font = wezterm.font {
        family = "Monaspace Krypton",
        weight = "Bold",
        italic = true,
        harfbuzz_features = {
          "liga", "ss01", "calt", "liga", "dlig",
          "ss01", "ss02", "ss03", "ss04", "ss05",
          "ss06", "ss07", "ss08", 
        },
      },
    },
  },
  font_size = 11.0,
  initial_rows = 60,
  initial_cols = 190,
  line_height = 1.0,
  max_fps = 120,
  freetype_load_target = "HorizontalLcd",
  freetype_render_target = "HorizontalLcd",
  freetype_load_flags = "NO_HINTING",
  hide_tab_bar_if_only_one_tab = true,
  window_background_opacity = 0.90,
{% if yadm.os == "Darwin" %}
  set_environment_variables = {
    PATH = "/opt/homebrew/bin:" .. os.getenv("PATH")
  },
{% endif %}
}

return config
